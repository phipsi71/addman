(function(){var t,e,i,n,s,o,r,a,l,h,c,u,d,p,f,m,g,v;i=function(){return document.querySelectorAll&&document.addEventListener},i()&&(isNaN(Date.parse("2011-01-01T12:00:00-05:00"))&&(a=Date.parse,s=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,Date.parse=function(t){var e,i,n,o,r,l,h,c,u;return t=t.toString(),(n=t.match(s))&&(n[0],c=n[1],r=n[2],e=n[3],i=n[4],o=n[5],h=n[6],u=n[7],"Z"!==u&&(l=u.replace(":","")),t=c+"/"+r+"/"+e+" "+i+":"+o+":"+h+" GMT"+[l]),a(t)}),v="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),o="January February March April May June July August September October November December".split(" "),r=function(t){return("0"+t).slice(-2)},l=function(t){var e,i,n,s,o;return o=t.toString(),(e=null!=(i=o.match(/\(([\w\s]+)\)$/))?i[1]:void 0)?/\s/.test(e)?e.match(/\b(\w)/g).join(""):e:(e=null!=(n=o.match(/(\w{3,4})\s\d{4}$/))?n[1]:void 0)?e:(e=null!=(s=o.match(/(UTC[\+\-]\d+)/))?s[1]:void 0)?e:""},m=function(t,e){var i,n,s,a,h,c,u;return n=t.getDay(),i=t.getDate(),h=t.getMonth(),u=t.getFullYear(),s=t.getHours(),a=t.getMinutes(),c=t.getSeconds(),e.replace(/%([%aAbBcdeHIlmMpPSwyYZ])/g,function(e){switch(e[0],e[1]){case"%":return"%";case"a":return v[n].slice(0,3);case"A":return v[n];case"b":return o[h].slice(0,3);case"B":return o[h];case"c":return t.toString();case"d":return r(i);case"e":return i;case"H":return r(s);case"I":return r(m(t,"%l"));case"l":return 0===s||12===s?12:(s+12)%12;case"m":return r(h+1);case"M":return r(a);case"p":return s>11?"PM":"AM";case"P":return s>11?"pm":"am";case"S":return r(c);case"w":return n;case"y":return r(u%100);case"Y":return u;case"Z":return l(t)}})},t=function(){function t(t,e,i){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(i),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return t.fromDate=function(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())},t.today=function(){return this.fromDate(new Date)},t.prototype.equals=function(t){return(null!=t?t.value:void 0)===this.value},t.prototype.is=function(t){return this.equals(t)},t.prototype.isToday=function(){return this.is(this.constructor.today())},t.prototype.occursOnSameYearAs=function(t){return this.year===(null!=t?t.year:void 0)},t.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},t.prototype.daysSince=function(t){if(t)return(this.date-t.date)/864e5},t.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},t}(),e=function(){function e(e){this.date=e,this.calendarDate=t.fromDate(this.date)}return e.prototype.toString=function(){var t,e;return(t=this.timeElapsed())?t+" ago":(e=this.relativeWeekday())?e+" at "+this.formatTime():"on "+this.formatDate()},e.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.formatTime():this.formatDate()},e.prototype.timeElapsed=function(){var t,e,i,n;return i=(new Date).getTime()-this.date.getTime(),n=Math.round(i/1e3),e=Math.round(n/60),t=Math.round(e/60),i<0?null:n<10?"a second":n<45?n+" seconds":n<90?"a minute":e<45?e+" minutes":e<90?"an hour":t<24?t+" hours":null},e.prototype.relativeWeekday=function(){switch(this.calendarDate.daysPassed()){case 0:return"today";case 1:return"yesterday";case 2:case 3:case 4:case 5:case 6:return m(this.date,"%A")}},e.prototype.formatDate=function(){var t;return t="%b %e",this.calendarDate.occursThisYear()||(t+=", %Y"),m(this.date,t)},e.prototype.formatTime=function(){return m(this.date,"%l:%M%P")},e}(),c=function(t){return new e(t).formatDate()},u=function(t){return new e(t).toString()},d=function(t){return new e(t).toTimeOrDateString()},p=function(t){var i;if(i=new e(t).relativeWeekday())return i.charAt(0).toUpperCase()+i.substring(1)},n=!1,g=function(t){return n&&t(),document.addEventListener("time:elapse",t),("undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.supported:void 0)?document.addEventListener("page:update",t):"function"==typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,i){if(jQuery.trim(i.responseText))return t()}):void 0},h=function(t,e){return g(function(){var i,n,s,o,r;for(o=document.querySelectorAll(t),r=[],n=0,s=o.length;n<s;n++)i=o[n],r.push(e(i));return r})},document.addEventListener("DOMContentLoaded",function(){var t;return n=!0,t="textContent"in document.body?"textContent":"innerText",h("time[data-local]:not([data-localized])",function(e){var i,n,s,o;if(i=e.getAttribute("datetime"),n=e.getAttribute("data-format"),s=e.getAttribute("data-local"),o=new Date(Date.parse(i)),!isNaN(o))return e.hasAttribute("title")||e.setAttribute("title",m(o,"%B %e, %Y at %l:%M%P %Z")),e[t]=function(){var t,i;switch(s){case"date":return e.setAttribute("data-localized",!0),c(o);case"time":return e.setAttribute("data-localized",!0),m(o,n);case"time-ago":return u(o);case"time-or-date":return d(o);case"weekday":return null!=(t=p(o))?t:"";case"weekday-or-date":return null!=(i=p(o))?i:c(o)}}()})}),f=function(){var t;return t=document.createEvent("Events"),t.initEvent("time:elapse",!0,!0),document.dispatchEvent(t)},setInterval(f,6e4),this.LocalTime={relativeDate:c,relativeTimeAgo:u,relativeTimeOrDate:d,relativeWeekday:p,run:f,strftime:m})}).call(this);