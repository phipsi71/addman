(function(){var t,e,n,o,i,r,a,s,l,c,u,d,p,f,h,m,g,v;n=function(){return document.querySelectorAll&&document.addEventListener},n()&&(isNaN(Date.parse("2011-01-01T12:00:00-05:00"))&&(s=Date.parse,i=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,Date.parse=function(t){var e,n,o,r,a,l,c,u,d,p;return t=t.toString(),(r=t.match(i))&&(e=r[0],d=r[1],l=r[2],n=r[3],o=r[4],a=r[5],u=r[6],p=r[7],"Z"!==p&&(c=p.replace(":","")),t=d+"/"+l+"/"+n+" "+o+":"+a+":"+u+" GMT"+[c]),s(t)}),v="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),r="January February March April May June July August September October November December".split(" "),a=function(t){return("0"+t).slice(-2)},l=function(t){var e,n,o,i,r;return r=t.toString(),(e=null!=(n=r.match(/\(([\w\s]+)\)$/))?n[1]:void 0)?/\s/.test(e)?e.match(/\b(\w)/g).join(""):e:(e=null!=(o=r.match(/(\w{3,4})\s\d{4}$/))?o[1]:void 0)?e:(e=null!=(i=r.match(/(UTC[\+\-]\d+)/))?i[1]:void 0)?e:""},m=function(t,e){var n,o,i,s,c,u,d;return o=t.getDay(),n=t.getDate(),c=t.getMonth(),d=t.getFullYear(),i=t.getHours(),s=t.getMinutes(),u=t.getSeconds(),e.replace(/%([%aAbBcdeHIlmMpPSwyYZ])/g,function(e){var p,f;switch(p=e[0],f=e[1]){case"%":return"%";case"a":return v[o].slice(0,3);case"A":return v[o];case"b":return r[c].slice(0,3);case"B":return r[c];case"c":return t.toString();case"d":return a(n);case"e":return n;case"H":return a(i);case"I":return a(m(t,"%l"));case"l":return 0===i||12===i?12:(i+12)%12;case"m":return a(c+1);case"M":return a(s);case"p":return i>11?"PM":"AM";case"P":return i>11?"pm":"am";case"S":return a(u);case"w":return o;case"y":return a(d%100);case"Y":return d;case"Z":return l(t)}})},t=function(){function t(t,e,n){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(n),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return t.fromDate=function(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())},t.today=function(){return this.fromDate(new Date)},t.prototype.equals=function(t){return(null!=t?t.value:void 0)===this.value},t.prototype.is=function(t){return this.equals(t)},t.prototype.isToday=function(){return this.is(this.constructor.today())},t.prototype.occursOnSameYearAs=function(t){return this.year===(null!=t?t.year:void 0)},t.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},t.prototype.daysSince=function(t){return t?(this.date-t.date)/864e5:void 0},t.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},t}(),e=function(){function e(e){this.date=e,this.calendarDate=t.fromDate(this.date)}return e.prototype.toString=function(){var t,e;return(t=this.timeElapsed())?t+" ago":(e=this.relativeWeekday())?e+" at "+this.formatTime():"on "+this.formatDate()},e.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.formatTime():this.formatDate()},e.prototype.timeElapsed=function(){var t,e,n,o;return n=(new Date).getTime()-this.date.getTime(),o=Math.round(n/1e3),e=Math.round(o/60),t=Math.round(e/60),0>n?null:10>o?"a second":45>o?o+" seconds":90>o?"a minute":45>e?e+" minutes":90>e?"an hour":24>t?t+" hours":null},e.prototype.relativeWeekday=function(){switch(this.calendarDate.daysPassed()){case 0:return"today";case 1:return"yesterday";case 2:case 3:case 4:case 5:case 6:return m(this.date,"%A")}},e.prototype.formatDate=function(){var t;return t="%b %e",this.calendarDate.occursThisYear()||(t+=", %Y"),m(this.date,t)},e.prototype.formatTime=function(){return m(this.date,"%l:%M%P")},e}(),u=function(t){return new e(t).formatDate()},d=function(t){return new e(t).toString()},p=function(t){return new e(t).toTimeOrDateString()},f=function(t){var n;return(n=new e(t).relativeWeekday())?n.charAt(0).toUpperCase()+n.substring(1):void 0},o=!1,g=function(t){return o&&t(),document.addEventListener("time:elapse",t),("undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.supported:void 0)?document.addEventListener("page:update",t):"function"==typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,n){return jQuery.trim(n.responseText)?t():void 0}):void 0},c=function(t,e){return g(function(){var n,o,i,r,a;for(r=document.querySelectorAll(t),a=[],o=0,i=r.length;i>o;o++)n=r[o],a.push(e(n));return a})},document.addEventListener("DOMContentLoaded",function(){var t;return o=!0,t="textContent"in document.body?"textContent":"innerText",c("time[data-local]:not([data-localized])",function(e){var n,o,i,r;return n=e.getAttribute("datetime"),o=e.getAttribute("data-format"),i=e.getAttribute("data-local"),r=new Date(Date.parse(n)),isNaN(r)?void 0:(e.hasAttribute("title")||e.setAttribute("title",m(r,"%B %e, %Y at %l:%M%P %Z")),e[t]=function(){var t,n;switch(i){case"date":return e.setAttribute("data-localized",!0),u(r);case"time":return e.setAttribute("data-localized",!0),m(r,o);case"time-ago":return d(r);case"time-or-date":return p(r);case"weekday":return null!=(t=f(r))?t:"";case"weekday-or-date":return null!=(n=f(r))?n:u(r)}}())})}),h=function(){var t;return t=document.createEvent("Events"),t.initEvent("time:elapse",!0,!0),document.dispatchEvent(t)},setInterval(h,6e4),this.LocalTime={relativeDate:u,relativeTimeAgo:d,relativeTimeOrDate:p,relativeWeekday:f,run:h,strftime:m})}).call(this);