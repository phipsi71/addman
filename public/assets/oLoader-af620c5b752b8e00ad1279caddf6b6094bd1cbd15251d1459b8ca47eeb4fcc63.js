!function(t){t.ownage||(t.ownage=new Object),t.ownage.Loader=function(e,n,o,i){var r=this;r.el=e,r.$el=t(e),r.selector=o,r.context=r.$el,r.checkInterval=!1,t.ownage.Loader.objects||(t.ownage.Loader.objects=new Array,t.ownage.Loader.objectOptions=new Array),r.objects=t.ownage.Loader.objects;var a=new Object;r.setObject=function(){r.objects.push(r.selector),r.objectIndex=r.getObjectIndex(),a.params=t.ownage.Loader.objectOptions[r.objectIndex],r.params=a.params,r.overlaySel="oloader_overlay_"+r.objectIndex,r.canvasSel="oloader_canvas_"+r.objectIndex,r.loaderSel="oloader_loader_"+r.objectIndex,r.isSet=!0},r.init=function(){if(r.setObject(),"string"!=typeof n)t.ownage.Loader.objectOptions[r.objectIndex]={},t.extend(t.ownage.Loader.objectOptions[r.objectIndex],t.ownage.Loader.defaultOptions,n),r.params=t.ownage.Loader.objectOptions[r.objectIndex],r.params.showOnInit===!0&&r.show();else switch(n){case"preloadImages":r.preloadImages();break;case"show":r.show();break;case"hide":r.hide();break;case"adjust":r.adjustLoader()}},r.executeOnStart=function(){"function"==typeof r.params.onStart&&r.params.onStart()},r.getObjectIndex=function(){for(var t=0;t<r.objects.length;t++)if(r.selector===r.objects[t])return t+"_"+i},r.removeCanvas=function(){t("#"+r.canvasSel).remove()},r.adjustLoader=function(){var e=r.context.offset(),n=r.context.outerWidth(!0),o=r.context.outerHeight(!0);if(0==t(r.selector).length&&r.removeCanvas(),e.left!=r.lastPosLeft||e.top!=r.lastPosTop||n!=r.lastWidth||o!=r.lastHeight||r.lastLoaderWidth!=t("#"+r.loaderSel).outerWidth()){var i="absolute";if(r.params.wholeWindow){n=t(window).width(),o=t(window).height();var e=new Object;e.left=0,e.top=0,i="fixed"}r.lastPosLeft=e.left,r.lastPosTop=e.top,r.lastWidth=n,r.lastHeight=o,r.lastLoaderWidth=t("#"+r.loaderSel).outerWidth(),t("#"+r.overlaySel).css({position:i,left:"0px",top:"0px",width:n,height:o}),t("#"+r.canvasSel).css({position:i,left:e.left+"px",top:e.top+"px",width:n,height:o,zIndex:100}),t("#"+r.loaderSel).css({position:i,left:"50%",top:"50%",marginLeft:-parseInt(t("#"+r.loaderSel).outerWidth()/2),marginTop:-parseInt(t("#"+r.loaderSel).outerHeight()/2)})}},r.setCheckInterval=function(){t("#"+r.overlaySel).css({background:r.params.backgroundColor}),r.checkInterval=setInterval(function(){r.adjustLoader()},r.params.checkIntervalTime)},r.show=function(){if(!(t("#"+r.canvasSel).length>0||r.context.parent().hasClass("oloader_canvas")||r.context.hasClass("oloader_canvas"))){t("body").append("<div id='"+r.canvasSel+"' class='oloader_canvas' style='padding:0px;margin:0px;display:none;overflow:hidden'></div>"),r.params.modal&&(t("#"+r.canvasSel).append("<div id='"+r.overlaySel+"'></div>"),t("#"+r.overlaySel).hide().fadeTo(0,r.params.fadeLevel)),r.params.showLoader&&t("#"+r.canvasSel).append(r.setStyle()),t("#"+r.canvasSel).hide().fadeTo(r.params.fadeInTime,1),r.lockOverflow(),r.setCheckInterval(),r.executeOnStart(),r.adjustLoader(),r.executeEffect(1);var e;0!==r.params.hideAfter&&(e=setTimeout(function(){r.hide()},r.params.hideAfter)),r.params.waitLoad&&r.context.load(function(){r.hide()}),r.params.url!==!1&&t.ajax({url:r.params.url,type:r.params.type,data:r.params.data,success:function(t){r.params.successData=t,r.params.hideAfter||(r.params.updateOnComplete||r.updateContent(),r.hide())},error:function(t,e,n){"function"==typeof r.params.onError&&r.params.onError(t,e,n)}})}},r.hide=function(){var e=!1;r.executeEffect(!1),t("#"+r.canvasSel).fadeTo(r.params.fadeOutTime,0,function(){e||(e=!0,sucData="undefined","function"==typeof r.params.complete&&(r.params.successData&&(sucData=r.params.successData),r.params.complete(sucData)),r.params.updateOnComplete&&r.updateContent()),clearInterval(r.checkInterval),t(this).remove(),r.lockOverflow(!0)})},r.updateContent=function(){sucData="Load failed.",r.params.successData&&(sucData=r.params.successData),r.params.updateContent&&r.params.url!==!1&&r.context.html(sucData),r.adjustLoader()},r.lockOverflow=function(e){r.params.lockOverflow&&(e?t(r.params.context).css("overflow","auto"):t(r.params.context).css("overflow","hidden"))},r.setStyle=function(){var t="";if("string"==typeof r.params.style)return"<div id='"+r.loaderSel+"' style='position:absolute;left:0;top:0;width:100%;height:100%;'>"+r.params.style+"</div>";switch(r.params.style){case 4:t="<img src='"+r.params.image+"' id='"+r.loaderSel+"' style='box-shadow:0px 0px 20px #000;position:absolute;padding:"+r.params.imagePadding+"px;background:"+r.params.imageBgColor+"' alt='Loading...' />";break;case 3:t="<img src='"+r.params.image+"' id='"+r.loaderSel+"' style='box-shadow:0px 0px 20px #222;border-radius:1000px;position:absolute;padding:"+r.params.imagePadding+"px;background:"+r.params.imageBgColor+"' alt='Loading...' />";break;case 2:t="<div id='"+r.loaderSel+"' style='position:absolute;width:100%;padding-top:10px;padding-bottom:10px;",t+="text-align:center;background-color:"+r.params.imageBgColor+"'><img src='"+r.params.image+"' alt='Loading...' /></div>";break;case 0:t="<img src='"+r.params.image+"' id='"+r.loaderSel+"' style='position:absolute' alt='Loading...' />";break;case 1:default:t="<img src='"+r.params.image+"' id='"+r.loaderSel+"' style='box-shadow:1px 1px #000;border-radius:1000px;position:absolute;padding:"+r.params.imagePadding+"px;background:"+r.params.imageBgColor+"' alt='Loading...' />"}return t},r.executeEffect=function(e){switch(r.params.effect){case"doornslide":case"door":var n="oloader_effect_door_"+r.objectIndex;"oloader_effect_door_2_"+r.objectIndex;if(myData={backgroundColor:r.params.backgroundColor,fadeLevel:r.params.fadeLevel},r.params.effectData&&(myData=r.params.effectData),e?(t("#"+r.overlaySel).after("<div id='"+n+"'></div>"),t("#"+n).css({position:"absolute",overflow:"hidden",top:"50%",left:"0px",width:"100%",height:"0px",marginTop:"0px","box-shadow":"0px 0px 25px "+myData.backgroundColor,background:myData.backgroundColor,opacity:0}).animate({height:"150px",marginTop:"-75px",opacity:myData.fadeLevel},r.params.fadeInTime+250,"easeOutBounce")):t("#"+n).animate({height:"0px",marginTop:"0px"},r.params.fadeOutTime+250,"easeOutBounce"),"doornslide"!==r.params.effect)break;case"slide":var o=t("#"+r.overlaySel).css("left");e?t("#"+r.overlaySel).css("left",-t("#"+r.overlaySel).width()):o=t("#"+r.overlaySel).width(),t("#"+r.overlaySel).animate({left:o},e?r.params.fadeInTime:r.params.fadeOutTime)}},r.preloadImages=function(){for(var e=["images/ownageLoader/loader1.gif","images/ownageLoader/loader2.gif","images/ownageLoader/loader3.gif","images/ownageLoader/loader4.gif","images/ownageLoader/loader5.gif","images/ownageLoader/loader6.gif","images/ownageLoader/loader7.gif"],n="",o=0;o<e.length;o++)n+="<img src='"+e[o]+"' alt='Loading...' />";t("body").append("<div class='oloader_image_preload' style='position:absolute;left:-5000px;top:-5000px;'>"+n+"</div>"),t(".oloader_image_preload").hide()},r.init()},t.ownage.Loader.defaultOptions={image:"images/ownageLoader/loader1.gif",style:1,context:"body",modal:!0,fadeInTime:300,fadeOutTime:300,fadeLevel:.7,backgroundColor:"#000",imageBgColor:"#fff",imagePadding:"10",showOnInit:!0,hideAfter:0,url:!1,type:"GET",data:!1,updateContent:!0,updateOnComplete:!0,showLoader:!0,effect:"",wholeWindow:!1,lockOverflow:!1,waitLoad:!1,checkIntervalTime:100,complete:"",onStart:"",onError:""},t.fn.oLoader=function(e){var n=this.selector,o=0;return this.each(function(){o++,new t.ownage.Loader(this,e,n,o)})},t.ownage.PageLoader=function(e){var n=this;n.options={},t.extend(n.options,t.ownage.PageLoader.defaultOptions,e),n.init=function(){n.additionalImages(),n.done=!1,n.loaded=0,n.total=t(n.options.affectedElements).length,0!=n.total&&(n.options.lockOverflow&&t(n.options.context).css("overflow","hidden"),t(n.options.context).oLoader({wholeWindow:n.options.wholeWindow,backgroundColor:n.options.backgroundColor,fadeInTime:0,fadeOutTime:n.options.fadeOutTime,fadeLevel:n.options.fadeLevel,style:n.options.style,complete:n.options.complete}),n.options.ownStyle||(t("#ownage_page_loader_text").css({position:"absolute",display:n.options.showPercentage?"block":"none",left:"50%",top:"50%",color:n.options.percentageColor,fontSize:n.options.percentageFontSize,zIndex:"1000"}).css({marginTop:-(n.options.progressBarHeight/2)-t("#ownage_page_loader_text").height()}),t("#ownage_page_loader").css({position:"absolute",top:"50%",left:"0px",background:n.options.progressBarColor,height:n.options.progressBarHeight,marginTop:-(n.options.progressBarHeight/2)})),t("#ownage_page_loader").fadeTo(0,n.options.progressBarFadeLevel),t(n.options.affectedElements).load(function(){n.done===!1&&(n.loaded++,n.updateProgressBar())}),t(window).load(function(){n.done=!0,n.loaded=n.total,"function"==typeof n.options.completeLoad&&n.options.completeLoad(),n.updateProgressBar()}))},n.additionalImages=function(){if(0!=n.options.images.length)for(t("body").append("<div style='position:absolute;left:-10000px;top:-10000px;display:none;' id='ownage_page_loader_addImages'></div>"),i=0;i<n.options.images.length;i++)t("#ownage_page_loader_addImages").append("<img src='"+n.options.images[i]+"' />")},n.updateProgressBar=function(){var e=parseInt(n.loaded/n.total*100);e!=n.lastPercentage&&(n.lastPercentage=e,t("#ownage_page_loader_text").html(e+"%"),n.options.ownStyle||t("#ownage_page_loader_text").css({marginLeft:-(t("#ownage_page_loader_text").width()/2)}),t("#ownage_page_loader").stop().animate({width:e+"%"},100),"function"==typeof n.options.update&&n.options.update({loaded:n.loaded,total:n.total,percentage:e}),100===e&&setTimeout(function(){t(n.options.context).oLoader("hide"),n.options.lockOverflow&&t(n.options.context).css("overflow","auto")},n.options.waitAfterEnd))},n.init()},t.ownage.PageLoader.defaultOptions={backgroundColor:"#000",progressBarColor:"#f00",progressBarHeight:3,progressBarFadeLevel:1,showPercentage:!0,percentageColor:"#fff",percentageFontSize:"30px",context:"body",affectedElements:"img,iframe,frame,script",ownStyle:!1,style:"<div id='ownage_page_loader_text'>0%</div><div id='ownage_page_loader'></div>",lockOverflow:!0,images:[],wholeWindow:!0,fadeLevel:1,waitAfterEnd:0,fadeOutTime:500,complete:!1,completeLoad:!1,update:!1},t.oPageLoader=function(e){t.ownage.PageLoader(e)}}(jQuery);