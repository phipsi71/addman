(function(){var t;$.fn.twitter_bootstrap_confirmbox={defaults:{title:null,proceed:"OK",proceed_class:"btn proceed",cancel:"Cancel",cancel_class:"btn cancel",fade:!1,modal_class:""}},t=function(t,e,i){var n,s;return s="function"==typeof $().emulateTransitionEnd?3:2,n=2===s?$('<div class="modal hide" id="confirmation_dialog"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h3 class="modal-title">...</h3> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div>'):$('<div class="modal" id="confirmation_dialog" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h4 class="modal-title">...</h4> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div> </div> </div>'),n.addClass(e.data("confirm-modal-class")||$.fn.twitter_bootstrap_confirmbox.defaults.modal_class),(e.data("confirm-fade")||$.fn.twitter_bootstrap_confirmbox.defaults.fade)&&n.addClass("fade"),n.find(".modal-header").find(".modal-title").html(e.data("confirm-title")||$.fn.twitter_bootstrap_confirmbox.defaults.title||window.top.location.origin).end().end().find(".modal-body").html(t.toString().replace(/\n/g,"<br />")).end().find(".modal-footer").append($("<a />",{href:"#","data-dismiss":"modal"}).html(e.data("confirm-cancel")||$.fn.twitter_bootstrap_confirmbox.defaults.cancel).addClass($.fn.twitter_bootstrap_confirmbox.defaults.cancel_class).addClass(e.data("confirm-cancel-class")||"btn-default").click(function(t){return t.preventDefault(),n.modal("hide")}),$("<a />",{href:"#"}).html(e.data("confirm-proceed")||$.fn.twitter_bootstrap_confirmbox.defaults.proceed).addClass($.fn.twitter_bootstrap_confirmbox.defaults.proceed_class).addClass(e.data("confirm-proceed-class")||"btn-primary").click(function(t){return t.preventDefault(),n.modal("hide"),i()})).end().on("keypress",function(t){if(13===t.keyCode)return $(".modal-footer a:last").trigger("click")}).on("hidden hidden.bs.modal",function(){return $(this).remove()}).modal("show").appendTo(document.body)},"function"==typeof $().modal&&($.rails.allowAction=function(e){var i,n;return $(e).blur(),n=e.data("confirm"),i=!1,!n||($.rails.fire(e,"confirm")&&t(n,e,function(){var t,n;if($.rails.fire(e,"confirm:complete",[i]))return t=$.rails.allowAction,$.rails.allowAction=function(){return!0},e.get(0).click?e.get(0).click():"undefined"!=typeof Event&&null!==Event?(n=new Event("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:document.body.parentNode}),e.get(0).dispatchEvent(n)):$.isFunction(document.createEvent)&&(n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,document.body.parentNode),e.get(0).dispatchEvent(n)),$.rails.allowAction=t}),!1)})}).call(this);